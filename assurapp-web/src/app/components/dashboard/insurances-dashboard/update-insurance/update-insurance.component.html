@if (added) {
  <div class="fixed top-0 end-0 z-[60] sm:max-w-xl max-w-px mx-auto p-6 py-12">
    <div class="p-4 bg-white border border-gray-300 rounded-xl shadow-sm dark:bg-gray-800 dark:border-gray-700">
      <div class="flex justify-between items-center gap-x-5 sm:gap-x-10">
        <h2 class="text-sm text-gray-600 dark:text-gray-400">
          Your insurance has been modified successfully. You will be redirected to the insurance page.
        </h2>
      </div>
    </div>
  </div>
} @else if (error) {
  <div class="fixed top-0 end-0 z-[60] sm:max-w-xl max-w-px mx-auto p-6 py-12">
    <div class="p-4 bg-red-600 border border-gray-300 rounded-xl shadow-sm dark:bg-red-600 dark:border-gray-700">
      <div class="flex justify-between items-center gap-x-5 sm:gap-x-10">
        <h2 class="text-sm text-white text-center">
          An error occured try to fill all the required fields and retry! <br>
          If it happend again check your network setting.
        </h2>
      </div>
    </div>
  </div>
}

<div class="max-w-px px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
  <div class="bg-white border-[1px] rounded-xl shadow p-4 sm:p-7 dark:bg-slate-900 dark:border-gray-700">
    <form [formGroup]="insuranceForm" (ngSubmit)="onSubmit()">
      <div class="grid sm:grid-cols-12 gap-2 sm:gap-4 py-8 first:pt-0 last:pb-0 border-t first:border-transparent border-gray-200 dark:border-gray-700 dark:first:border-transparent">
        <div class="sm:col-span-12">
          <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-200">
            Update insurance
          </h2>
        </div>

        <div class="sm:col-span-3">
          <label for="name" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
            Name
          </label>
        </div>

        <div class="sm:col-span-9">
          <input formControlName="name" id="name" name="name" placeholder="Insurance Name" type="text" class="py-2 px-3 pe-11 block w-full border-[1px] border-gray-200 shadow-sm text-sm rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
        </div>

        <div class="sm:col-span-3">
          <label for="type" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
            Type
          </label>
        </div>

        <div class="sm:col-span-9">
          <select formControlName="type" name="type" id="type" class="py-2 px-3 pe-11 block w-full border-[1px] border-gray-200 shadow-sm text-sm rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
            @for (type of types; track type) {
              <option [value]="type">{{type}}</option>
            }
          </select>
        </div>

        <div class="sm:col-span-3">
          <label for="amount" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
            Coverage Amount
          </label>
        </div>

        <div class="sm:col-span-9">
          <input formControlName="coverageAmount" id="amount" type="number" value="10000.00" step="100" placeholder="10000.00" class="py-2 px-3 pe-11 block w-full border-[1px] border-gray-200 shadow-sm text-sm rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
        </div>

        <div class="sm:col-span-3">
          <label for="terms" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
            Terms
          </label>
        </div>

        <div class="sm:col-span-9" formArrayName="terms">
          <div class="sm:flex" [formGroupName]="0">
            <input formControlName="name" type="text" id="terms" name="terms" placeholder="Name" class="py-2 px-3 pe-11 block w-1/3 border-[1px] border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
            <input formControlName="description" type="text" placeholder="Description" class="py-2 px-3 pe-11 block w-full border-[1px] border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
          </div>
        </div>

        <div class="sm:col-start-4 sm:col-span-9" formArrayName="terms">
          <div class="sm:flex" [formGroupName]="1">
            <input formControlName="name" type="text" placeholder="Name" class="py-2 px-3 pe-11 block w-1/3 border-[1px] border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
            <input formControlName="description" type="text" placeholder="Description" class="py-2 px-3 pe-11 block w-full border-[1px] border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
          </div>
        </div>

        <div class="sm:col-start-4 sm:col-span-9" formArrayName="terms">
          <div class="sm:flex" [formGroupName]="2">
            <input formControlName="name" type="text" placeholder="Name" class="py-2 px-3 pe-11 block w-1/3 border-[1px] border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
            <input formControlName="description" type="text" placeholder="Description" class="py-2 px-3 pe-11 block w-full border-[1px] border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600">
          </div>
        </div>
      </div>


      <button type="submit" class="w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600">
        Submit
      </button>
    </form>
  </div>
</div>
